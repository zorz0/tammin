{"version":3,"sources":["_register_new.js"],"names":["$","WriteIndividualErrorMessage","errorMessage","addClass","document","hide","find","length","remove","before","emailAddress","show","get","Loginurl","html","RegEmial","Valid","removeAttr","HideLoader","empty","append","Emailaddressalreadyexistsmsg","getCaptchaForHeaderRegister","ajax","url","type","success","data","dataURL","image","attr","val","token","error","xhr","status","console","log","AddZeroBeforeMobileNo","on","options","validator","unobtrusive","adapters","params","messages","message","jQuery","addMethod","value","element","is","focusout","trim","focusin","submit","evt","preventDefault","lr1","Ladda","create","querySelector","trimTheText","captchaRequired","passwordisRequired","$form","isLoginWithHomePageFlow","valid","isEmailHasDashKey","start","passwordLengthError","this","registercontrollerurl","traditional","checked","serialize","isAutoLogin","stop","OK","Error","captchaNotValid","isHybridAppUserAgent","updateFcmTokenFromWeb","NavigateUrl","href","localStorage","removeItem","window","location","filter","not","each","startsWith","focus","click","fn","closest","validate","resetForm","removeClass","e","ready","appendTo","RegisterError","userId","modal","BackdropiconShow","isValidEmailAddress","event","closet","contentType","toLowerCase","dataType","parent","relatedTarget","hasClass","base64Data"],"mappings":"aAiMIA,SAAEC,4BAAFC,GADJF,EAAA,qBAAAG,SAAA,0BAIEC,EAAAA,kCAA4BC,OAC1B,EAAEL,EAAA,oDAAFM,KAAA,MAAAC,QACEP,EAAA,mEAAFE,EAAA,KAAAM,SACER,EAAA,6DAAFS,OAAA,OAAAP,EAAA,WAEIQ,EAAAA,kCAAoBC,OAClBC,EACEC,kCACAC,KAAA,WAAAZ,EAAA,eAEI,SAAAa,SAASC,GACThB,EAAA,eAAAiB,WAAA,SAAAN,OACIO,EAAAA,eAAUC,QACVnB,EAAAA,eAAEoB,OAAF,SAAAC,EAAA,WAuHpB,SAASC,8BACLtB,EAAEuB,KAAK,CACHC,IAAK,kBACLC,KAAM,MACNC,QAAS,SAAUC,GACf3B,EAAE,sCAAsCW,OACxC,IACIiB,EAAU,yBADGD,EAAKE,MAEtB7B,EAAE,kCAAkC8B,KAAK,MAAOF,GAChD5B,EAAE,kCAAkC+B,IAAIJ,EAAKK,OAC7ChC,EAAE,iCAAiC+B,IAAI,KAE3CE,MAAO,SAAUC,EAAKC,EAAQF,GAC1BG,QAAQC,IAAIJ,MApVQ,IAA5BjC,EAAE,iBAAiB+B,OAAnB/B,EAAE,iBAAiB+B,IAAnBO,sBAAgCtC,EAAA,iBAAA+B,QAInC,SAAU/B,GAGLA,EAAA,uBAAFuC,GAA4B,QAAS,WAC/BvC,EAAA,kBAAsB+B,IAAxB,MAIAS,OAAOC,UAAOC,YAAdC,SAAsCC,IAAAA,aAAtC,CAAA,UAAA,SAAAJ,GACAA,EAAQK,MAARL,WAAiCA,EAAQM,OAF7CN,EAAAK,SAAA,WAAAL,EAAAM,UAQQC,OAAAN,UAAAO,UAAA,aAAA,SAAAC,EAAAC,EAAAN,GAGA,QAAA5C,EAAOkD,GAAPC,GAAA,cAlBX,CA6BCJ,QAIF/C,EAAE,gBAAAoD,SAAF,WAEEpD,EAAA,gBAAY+B,IAAA/B,EAAAqD,KAAArD,EAAA,gBAAA+B,UAIN/B,EAAAA,sBAACsD,QAAD,WACAtD,EAAE,sBAAF8B,KAAA,OAAA,cAPR9B,EAAE,sBAAsB+B,IAAI,IAapB/B,EAAAA,WACAA,EAAE,gBAAAuD,OAAA,SAAAC,GAYEA,GAVAxD,EAAE,kCAAiC+B,OAAnCjB,KAAgD,IAC9Cd,EAAA,oBAAAK,OACAL,EAAA,uBAAAK,OACFmD,EAAIC,uBAAJ3C,KAAA,IACA4C,IAAAC,MAAAC,OAAAxD,SAAAyD,cAAA,2BATJ7D,EAAE,qBAAqB8D,cAYjB9D,EAAA,+CAAFK,OACEL,EAAA,+CAAFc,KAAA,IAEA,IAAI2C,EAAAA,iCAAJ1B,MAGE,OAFF/B,EAAA,+CAAAW,OACHX,EAAA,+CAAAc,KAAAiD,iBATGP,EAAIC,iBAUF,EAEA,GAAF,IAAEzD,EAAA,sBAAF+B,MAJA,OAKE/B,EAAA,oBAAuBc,OACrB2C,EAAAA,uBAAJ9C,OACAX,EAAA,uBAAAc,KAAAkD,oBACHR,EAAAC,iBARU,EAUPQ,GAAAA,EAAK,sBAATlC,MAAAxB,OAAA,EAIQ2D,OAXJlE,EAAE,oBAAoBW,OAStBsD,EAAME,uBAAWC,OACbC,EAAAA,uBAAJvD,KAAAwD,qBAPAd,EAAIC,iBAQAS,EAEHV,EAAAC,iBANL,IAAIQ,EAAQjE,EAAEuE,MAQRhD,GAAF0C,EAAOE,SAAAC,kBAAApE,EAAA,qBAAA+B,OAAA,CACC2B,IAAEW,QACDG,yBACCP,oCAENQ,IAAAA,EALGzE,EAAA,sBAAA,GAAA0E,QAMHhD,EAAAA,KAAS,CACDC,KAAA,OACEH,IAAAgD,sBACA7C,KAAAsC,EAAAU,YAAA,wBAAF3E,EAAA,2BAAA+B,MAAA,4BAAAmC,wBAAA,gBAAAU,EAAA,gBAAA5E,EAAA,iCAAA+B,MAAA,iBAAA/B,EAAA,kCAAA+B,MACAT,SAAAA,OACIuD,aAAJ,EAJJnD,QAMa,SAAOC,GACd,GAAA,SAAAA,EAAAmD,GACA9E,EAAA,kCAAFW,OACEX,EAAA,kCAAFc,KAAAa,EAAAoD,OACEzD,8BACEoC,IAAAmB,WAEJ,CAAA,GAAA,mBAAAlD,EAAAmD,GASY,OARZxD,EAAAA,+CAA2BX,OAC3BX,EAAA,+CAAAc,KAAAkE,iBAEKrD,EAAKmD,kCAAiBzE,OACvB4E,EAAAA,kCAAsBnE,KAAA,IACtBoE,EAAAA,EAAAA,8BAAqB,IAAA7E,OACxBL,EAAAA,EAAA,8BAAA,IAAAc,KAAA,IAPD4C,IAAImB,YAQQvD,8BAGgB6D,WAAZC,EAAhBN,KACHG,sBACJC,wBAGJG,aAAAC,WAAA,mBACKD,aAAqBlB,WAAYC,sBACjCiB,aAAwB1E,WAA1B,gCAEC4E,OAAAC,SAAAJ,KAAAzD,EAAAwD,sBAKKnF,EAAA,qBAAFmE,UAAAC,kBAAApE,EAAA,qBAAA+B,OACA/B,EAAA,wBAAAW,OAIAX,EAAA,wBAAAK,OAGEL,EAAA,kBAADyF,OAAD,qBAAAC,IAAA,WAAAC,KAAA,WACA,IAAA3F,EAAAqD,KAAArD,EAAA,iBAAA+B,QAAA/B,EAAA,iBAAA+B,MAAA6D,WAAA,MAhGhB,IAAA5F,EAAAqD,KAAArD,EAAA,qBAAA+B,OAyGA,IAAA/B,EAAwBqD,KAAArD,EAAA,sBAAxB+B,QACauD,EAAAA,sBAAWO,QA3G5B7F,EAAA,qBAAA6F,QAkGiB7F,EAAA,iBAAA6F,cAMjB7F,EAAE,0BAA0B8F,MAAM,WAe1B7B,EAAAA,kCAAW5D,OAIX4D,aAAWqB,WAAA,qBAKXD,aAAAC,WAAA,yBAELvC,OAEHgD,GAAS9F,gBAAAA,WAEH,IAAAgE,EAAAM,KAAAyB,QAAA,QAiBN,OAfU/B,EAAAgC,WAAAC,YAIAjC,EAAA3D,KAAA,8BACA6F,YAAA,6BACLhG,SAAA,4BACJG,KAAA,MAAAa,QApBO8C,EAAM3D,KAAK,yBAsBVS,YAASM,0BACZlB,SAAec,0BACfE,QAIN8C,GAuBiBjE,EAAA,mBACYuC,GAACvB,iBAAY,SAAAoF,GACtBlF,EAAAA,iBAAU2E,UAGjB7F,EAAAI,UAjBLiG,MAAA,WAmBHrG,EAAA,sBAAAsG,SAAA,QAzBLtG,EAAA,gBAAAsG,SAAA,QA2BEtG,EAAA,iBAAmBK,OACf,IAAAK,EAAAV,EAAA,qBAAF+B,MACA,IAAErB,GAFNV,EAAAY,IApBYC,SAwBR0F,CAAAA,aAAqB7F,EAAA8F,OAAA,GACnB,SAAA7E,GACA,GAAAA,EAAAX,OAEDE,aACelB,EAAA,iBAAAW,SAGf,GAAAgB,EAAAX,OACCE,aACLlB,EAAA,iBAAAK,QAE8B,GAARiD,EAAvBtC,QACME,aACAlB,EAAA,iBAAAK,YAIML,EAAAA,gBAAEuC,GAAA,kBAA8BlC,WACnCL,EAAA,wBAAAK,OACJL,EAAA,eAAAK,SAGL,IAAEkG,eACIvG,EAAA,kCAA+Bc,KAAUT,WAA3CkG,cAAA,cADJvG,EAAA,kCAAAW,OAIEX,EAAA,gBAAAyG,MAAwBX,QACpB9F,EAAA,kBAAAK,OADNqG,mBAIE1G,EAAA,mBAAFW,KAAA,MAGMX,EAAA,kCAAFK,OAGAL,EAAA,qBAAqBsD,QAAMvB,WAxB3B/B,EAAE,kCAAkCc,KAAK,IAAIT,OA0B7CL,EAAIU,2CAAoBL,OAChBL,EAAC2G,8BAAoBjG,KAArB,MAAuC0D,SACvCpE,EAAA,6CAAAqB,6BAAA,KAAAb,SACA,GAAAR,EAAA,oCAAAO,QAECP,EAAA,8BAAAK,UAILL,EAAAA,oBAAO8F,MAAA,SAAAc,GACHnF,EAAAA,wBADGoF,OAAA,UAAAxG,SAIHyG,EAAAA,wBAAahB,MAAA,SAJVc,GAKHjF,EAAAA,uBAAMkF,OAAA,UAAAxG,SAAAL,EAAA,eALHK,OAMHqB,EAAAA,qBAAS0B,SAAUzB,WACf3B,EAAA,kCAAqBc,KAAA,IAAAT,OACrBL,EAAA,8BAAAK,OACIa,EAAAA,MAAAA,cAEAlB,EAAAA,MAAAA,IAAEA,EAAAuE,MAAAxC,MAAAgF,eACL,IAAArG,EACQiB,EAAI4C,MAAJxC,MAELhB,GAASM,IAATN,EAASM,CACTrB,IAAE2G,oBAAFjG,KAAA0D,kBAAAG,KAAAtB,OAGA/B,OAGHlB,EAAA,8BAAAK,OAtBFL,EAAA,qBAAAmG,YAAA,0BAyBCnG,EAAEuB,KAAA,CACFL,KAAU,MACbM,IAAAX,SA3BLmG,SAAA,OA6BHF,YAAA,mBA7CLnF,KAAA,CAAAjB,aAAAA,EAAA8F,OAAA,GAgDE9E,QAAF,SAAsBC,GACUsF,GAAfC,EAAAA,OACFC,aAELnH,EAAA,kCAAFc,KAAA,IAAAT,SAEA,GAAmBA,EAAnBW,OACgBE,aAChBH,SAAAM,8BACHrB,EAAA,iBAAAK,QAEmCS,GAAlCa,EAAAX,QACAE,aAEcjB,4BAAhBoB,8BAzBgBrB,EAAE,iBAAiBK,SA6BlC4B,MAAA,WAlBLjC,EAAA,qBAAA+B,IAAA,IANgBb,mBAgCJlB,EAAAA,iBAAEuC,GAAA,WAAA,SAAD6D,GAED,GADAa,OAAIG,EAAAA,EAAAA,eAAkBvF,SACtBoF,OAAIrF,SAAU,sBAMdQ,OALEpC,EAAA,kBAAAW,OACAX,EAAA,mBAAAK,OACAL,EAAA,kBAAAK,OATHL,EAAA,iBAAAK,YAWH4B,mBAIPjC,EAAA,kCAAAc,KAAA,IAzBGd,EAAE,kCAAkCK,OAEjBL,EAAE,iBAAiB+B,MAEE,IAApC/B,EAAEqD,KAAKrD,EAAE,iBAAiB+B,QAAiB/B,EAAE,iBAAiB+B,MAAM6D,WAAW","file":"_register_new.min.js","sourcesContent":["\r\nif ($(\"#MobileNumber\").val() != \"\") {\r\n    $(\"#MobileNumber\").val(AddZeroBeforeMobileNo($(\"#MobileNumber\").val()));\r\n}\r\n\r\n(function ($) {\r\n    //getCaptchaForHeaderRegister();\r\n\r\n    $('.bi.bi-arrow-repeat').on(\"click\", function () {\r\n        $('.captcha-input').val('');\r\n    });\r\n\r\n    jQuery.validator.unobtrusive.adapters.add(\"mustbetrue\", ['maxint'], function (options) {\r\n        options.rules[\"mustbetrue\"] = options.params;\r\n        options.messages[\"mustbetrue\"] = options.message;\r\n    });\r\n\r\n    jQuery.validator.addMethod(\"mustbetrue\", function (value, element, params) {\r\n\r\n        if ($(element).is(':checked')) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    });\r\n\r\n}(jQuery));\r\n\r\n\r\n$(\"#login-email\").focusout(function () {\r\n    $(\"#login-email\").val($.trim($(\"#login-email\").val()));\r\n});\r\n\r\n$(\"#register-password\").focusin(function () {\r\n    $('#register-password').attr('type', \"password\");\r\n});\r\n\r\n$('#register-password').val('');\r\n\r\n$(function () {\r\n    $('#frmRegsiter').submit(function (evt) {\r\n\r\n        $(\"#RegisterErrorMessageForHeader\").hide().html('');\r\n        $(\"#PasswordMessage\").hide();\r\n        $('#passwordFromHeader').hide();\r\n        $('#passwordFromHeader').html('');\r\n        lr1 = Ladda.create(document.querySelector('#btnIndividualRegister'));\r\n        //lr1.start();\r\n        $(\"#IndRegisterEmail\").trimTheText();\r\n\r\n        $(\"#SchemeCaptchaErrorMessageForHeaderRegister\").hide();\r\n        $(\"#SchemeCaptchaErrorMessageForHeaderRegister\").html('');\r\n\r\n        if ($('#captchaCodeForHeaderRegister').val() == '') {\r\n            $('#SchemeCaptchaErrorMessageForHeaderRegister').show();\r\n            $('#SchemeCaptchaErrorMessageForHeaderRegister').html(captchaRequired);\r\n            evt.preventDefault();\r\n            return 0;\r\n        }\r\n        if ($(\"#register-password\").val() == '') {\r\n            $('#PasswordMessage').show();\r\n            $('#passwordFromHeader').show();\r\n            $('#passwordFromHeader').html(passwordisRequired);\r\n            evt.preventDefault();\r\n            return 0;\r\n        }\r\n        if ($(\"#register-password\").val().length < 6) {\r\n            $('#PasswordMessage').show();\r\n            $('#passwordFromHeader').show();\r\n            $('#passwordFromHeader').html(passwordLengthError);\r\n            evt.preventDefault();\r\n            return 0;\r\n        }\r\n        evt.preventDefault();\r\n        var $form = $(this);\r\n\r\n        if ($form.valid() && isEmailHasDashKey($(\"#IndRegisterEmail\").val())) {\r\n            lr1.start();\r\n            if (isLoginWithHomePageFlow) {\r\n                SetSessionforHomePagePurchaseFlow();\r\n            }\r\n            var isAutoLogin = $('#autoLoginCheckBox')[0].checked;\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: registercontrollerurl,\r\n                data: $form.serialize() + \"&CurrentPagelangauge=\" + $(\"#hdnCurrentPageLangauge\").val() + \"&IsLoginWithHomePageFlow=\" + isLoginWithHomePageFlow + \"&isAutoLogin=\" + isAutoLogin + \"&CaptchaCode=\" + $(\"#captchaCodeForHeaderRegister\").val() + \"&CaptchaToken=\" + $(\"#captchaTokenForHeaderRegister\").val(),\r\n                dataType: \"json\",\r\n                traditional: true,\r\n                success: function (data) {\r\n                    if (data.OK == \"Error\") {\r\n                        $(\"#RegisterErrorMessageForHeader\").show();\r\n                        $(\"#RegisterErrorMessageForHeader\").html(data.Error);\r\n                        getCaptchaForHeaderRegister();\r\n                        lr1.stop();\r\n                    }\r\n                    else if (data.OK == \"CaptchaNotValid\") {\r\n                        $('#SchemeCaptchaErrorMessageForHeaderRegister').show();\r\n                        $('#SchemeCaptchaErrorMessageForHeaderRegister').html(captchaNotValid);\r\n                        $(\"#RegisterErrorMessageForHeader\").hide();\r\n                        $(\"#RegisterErrorMessageForHeader\").html('');\r\n                        $($('.validation-summary-errors')[2]).hide();\r\n                        $($('.validation-summary-errors')[2]).html('');\r\n                        lr1.stop();\r\n                        getCaptchaForHeaderRegister();\r\n                        return;\r\n                    }\r\n                    else if (data.OK == \"Success\") {\r\n                        if (isHybridAppUserAgent) {\r\n                            updateFcmTokenFromWeb();\r\n                        }\r\n                        localStorage.removeItem(\"logintimerCount\");\r\n                        localStorage.removeItem(\"loginotpRetrycount\");\r\n                        localStorage.removeItem(\"loginvalidateotpmaxtryexceed\");\r\n                        window.location.href = data.NavigateUrl;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if ($(\"#IndRegisterEmail\").valid() && !isEmailHasDashKey($(\"#IndRegisterEmail\").val())) {\r\n                $(\"#InvalidImailMessage\").show();\r\n            }\r\n            else {\r\n                $(\"#InvalidImailMessage\").hide();\r\n            }\r\n            $('#frmRegsiter *').filter(':input[type=text]').not(':hidden').each(function () {\r\n                if ($.trim($('#MobileNumber').val()) == '' || !$('#MobileNumber').val().startsWith('05')) {\r\n                    $('#MobileNumber').focus();\r\n                    return;\r\n                }\r\n                else if ($.trim($('#IndRegisterEmail').val()) == '') {\r\n                    $('#IndRegisterEmail').focus();\r\n                    return;\r\n                }\r\n                else if ($.trim($('#register-password').val()) == '') {\r\n                    $('#register-password').focus();\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n    });\r\n});\r\n\r\n$(\"#btnIndividualRegister\").click(function () {\r\n    $(\"#RegisterErrorMessageForHeader\").hide();\r\n    localStorage.removeItem(\"btnVerifydisabled\");\r\n    localStorage.removeItem(\"smscodeerrormessage\");\r\n});\r\n\r\n(function ($) {\r\n    $.fn.resetValidation = function () {\r\n\r\n        var $form = this.closest('form');\r\n\r\n        //reset jQuery Validate's internals\r\n        $form.validate().resetForm();\r\n\r\n        //reset unobtrusive validation summary, if it exists\r\n        $form.find(\"[data-valmsg-summary=true]\")\r\n            .removeClass(\"validation-summary-errors\")\r\n            .addClass(\"validation-summary-valid\")\r\n            .find(\"ul\").empty();\r\n        $form.find(\"[data-valmsg-replace]\")\r\n            .removeClass(\"field-validation-error\")\r\n            .addClass(\"field-validation-valid\")\r\n            .empty();\r\n\r\n        return $form;\r\n    };\r\n})(jQuery);\r\n\r\nfunction WriteIndividualErrorMessage(errorMessage) {\r\n    $(\"#IndRegisterEmail\").addClass(\"input-validation-error\");\r\n    $(\"#RegisterErrorMessageForHeader\").hide();\r\n    if ($(\".modelvalidationError .validation-summary-errors\").find(\"ul\").length > 0) {\r\n        $('.modelvalidationError .validation-summary-errors ul li:contains(' + errorMessage + ')').remove();\r\n        $('.modelvalidationError .validation-summary-errors li:eq(0)').before(\"<li>\" + errorMessage + \"</li>\");\r\n    }\r\n    else {\r\n        $(\"#RegisterErrorMessageForHeader\").show();\r\n        $(\"#RegisterErrorMessageForHeader\").html(\"<ul><li>\" + errorMessage + \"</li></ul>\");\r\n    }\r\n}\r\n\r\nfunction RegEmial(Emailaddressalreadyexistsmsg) {\r\n    $(\"#ExistEmail\").removeAttr(\"style\").show();\r\n    $(\"#ExistEmail\").empty();\r\n    $(\"#ExistEmail\").append(\"<span>\" + Emailaddressalreadyexistsmsg + \"</span>\");\r\n}\r\n\r\n//focus on first element when Signup modal open\r\n$('#signup-content').on('shown.bs.modal', function (e) {\r\n    $('#MobileNumber').focus();\r\n})\r\n\r\n$(document).ready(function () {\r\n    $('#declaration-popup').appendTo(\"body\");\r\n    $('#trems-popup').appendTo(\"body\");\r\n    $(\"#correctEmail\").hide();\r\n    var emailAddress = $(\"#IndRegisterEmail\").val();\r\n    if (emailAddress != \"\") {\r\n        $.get(\r\n            Loginurl,\r\n            { emailAddress: emailAddress, userId: 0 },\r\n            function (data) {\r\n                if (data.Valid == 1) // Valid email\r\n                {\r\n                    HideLoader();\r\n                    $(\"#correctEmail\").show();\r\n                }\r\n                else if (data.Valid == -1) {\r\n                    HideLoader();\r\n                    $(\"#correctEmail\").hide();\r\n                }\r\n                else if (data.Valid == 0) {\r\n                    HideLoader();\r\n                    $(\"#correctEmail\").hide();\r\n                }\r\n            }\r\n        );\r\n    }\r\n});\r\n$(\"#login-popup\").on(\"hidden.bs.modal\", function () {\r\n    $(\"#InvalidImailMessage\").hide();\r\n    $(\"#ExistEmail\").hide();\r\n});\r\nif (RegisterError != \"\") {\r\n    $(\"#RegisterErrorMessageForHeader\").html(\"<ul><li>\" + RegisterError + \"</li></ul>\");\r\n    $(\"#RegisterErrorMessageForHeader\").show();\r\n    $(\"#login-popup\").modal('show');\r\n    $('#login-content').hide();\r\n    BackdropiconShow();\r\n    $('#signup-content').show(1000);\r\n}\r\nelse {\r\n    $(\"#RegisterErrorMessageForHeader\").hide();\r\n}\r\n\r\n$(\"#IndRegisterEmail\").focusin(function () {\r\n    $(\"#RegisterErrorMessageForHeader\").html('').hide();\r\n    $(\"#correctEmail, #wrongEmail, #ExistEmail\").hide();\r\n    if ($(\".validation-summary-errors\").find(\"ul\").length) {\r\n        $('.validation-summary-errors ul li:contains(' + Emailaddressalreadyexistsmsg + ')').remove();\r\n        if ($(\".validation-summary-errors ul li\").length == 0) {\r\n            $(\".validation-summary-errors\").hide();\r\n        }\r\n    }\r\n});\r\n\r\n$(\"#btnCloseDeclare\").click(function (event) {\r\n    $('#declaration-content').closet(\".modal\").hide();\r\n});\r\n\r\n$(\"#btnCloseTermsPolicy\").click(function (event) {\r\n    $('#termspopup-content').closet(\".modal\").hide();\r\n});\r\n\r\n$(\"#wrongEmail\").hide();\r\n$(\"#IndRegisterEmail\").focusout(function () {\r\n    $(\"#RegisterErrorMessageForHeader\").html('').hide();\r\n    $(\"#correctEmail, #wrongEmail\").hide();\r\n    $(this).trimTheText();\r\n    $(this).val(($(this).val()).toLowerCase());\r\n    var emailAddress = $(this).val();\r\n\r\n    if (emailAddress != \"\") {\r\n        if (!isValidEmailAddress(emailAddress) || !isEmailHasDashKey(this.value)) {\r\n            //$(\"#wrongEmail\").show();\r\n            return;\r\n        }\r\n        else {\r\n            $(\".validation-summary-errors\").hide();\r\n            $(\"#IndRegisterEmail\").removeClass(\"input-validation-error\");\r\n        }\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: Loginurl,\r\n            dataType: \"JSON\",\r\n            contentType: \"application/json\",\r\n            data: { emailAddress: emailAddress, userId: 0 },\r\n            success: function (data) {\r\n                if (data.Valid == 1) // Valid email\r\n                {\r\n                    HideLoader();\r\n\r\n                    $(\"#RegisterErrorMessageForHeader\").html('').hide();\r\n                }\r\n                else if (data.Valid == -1) {\r\n                    HideLoader();\r\n                    RegEmial(Emailaddressalreadyexistsmsg);\r\n                    $(\"#correctEmail\").hide();\r\n                }\r\n                else if (data.Valid == 0) {\r\n                    HideLoader();\r\n                    WriteIndividualErrorMessage(Emailaddressalreadyexistsmsg);\r\n                    $(\"#correctEmail\").hide();\r\n                }\r\n            },\r\n            error: function (err) {\r\n                $(\"#IndRegisterEmail\").val('');\r\n                HideLoader();\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n$(\"#MobileNumber\").on(\"focusout\", function (e) {\r\n    parent = $(e.relatedTarget).parent();\r\n    if (parent.hasClass(\"login-account-link\")) {\r\n        $('#login-content').show();\r\n        $('#signup-content').hide();\r\n        $(\"#without-login\").hide();\r\n        $('#forgot-popup').hide();\r\n        BackdropiconShow();\r\n        return;\r\n    }\r\n\r\n    $(\"#RegisterErrorMessageForHeader\").html('');\r\n    $(\"#RegisterErrorMessageForHeader\").hide();\r\n\r\n    var mobilenumber = $(\"#MobileNumber\").val();\r\n\r\n    if ($.trim($('#MobileNumber').val()) == '' || !$('#MobileNumber').val().startsWith('05')) {\r\n        return;\r\n    }\r\n});\r\n\r\nfunction getCaptchaForHeaderRegister() {\r\n    $.ajax({\r\n        url: '/api/V1/Captcha',\r\n        type: 'GET',\r\n        success: function (data) {\r\n            $(\"#divSchemeCaptchaForHeaderRegister\").show();\r\n            var base64Data = data.image;\r\n            var dataURL = 'data:image/png;base64,' + base64Data;\r\n            $('#CaptchaImageForHeaderRegister').attr('src', dataURL);\r\n            $('#captchaTokenForHeaderRegister').val(data.token);\r\n            $('#captchaCodeForHeaderRegister').val('');\r\n        },\r\n        error: function (xhr, status, error) {\r\n            console.log(error);\r\n        }\r\n    });\r\n}\r\n\r\n"]}