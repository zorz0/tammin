"use strict";function WriteIndividualErrorMessage(e){$("#IndRegisterEmail").addClass("input-validation-error"),$("#RegisterErrorMessageForHeader").hide(),0<$(".modelvalidationError .validation-summary-errors").find("ul").length?($(".modelvalidationError .validation-summary-errors ul li:contains("+e+")").remove(),$(".modelvalidationError .validation-summary-errors li:eq(0)").before("<li>"+e+"</li>")):($("#RegisterErrorMessageForHeader").show(),$("#RegisterErrorMessageForHeader").html("<ul><li>"+e+"</li></ul>"))}function RegEmial(e){$("#ExistEmail").removeAttr("style").show(),$("#ExistEmail").empty(),$("#ExistEmail").append("<span>"+e+"</span>")}function getCaptchaForHeaderRegister(){$.ajax({url:"/api/V1/Captcha",type:"GET",success:function(e){$("#divSchemeCaptchaForHeaderRegister").show();var r="data:image/png;base64,"+e.image;$("#CaptchaImageForHeaderRegister").attr("src",r),$("#captchaTokenForHeaderRegister").val(e.token),$("#captchaCodeForHeaderRegister").val("")},error:function(e,r,a){console.log(a)}})}""!=$("#MobileNumber").val()&&$("#MobileNumber").val(AddZeroBeforeMobileNo($("#MobileNumber").val())),function(i){i(".bi.bi-arrow-repeat").on("click",function(){i(".captcha-input").val("")}),jQuery.validator.unobtrusive.adapters.add("mustbetrue",["maxint"],function(e){e.rules.mustbetrue=e.params,e.messages.mustbetrue=e.message}),jQuery.validator.addMethod("mustbetrue",function(e,r,a){return!!i(r).is(":checked")})}(jQuery),$("#login-email").focusout(function(){$("#login-email").val($.trim($("#login-email").val()))}),$("#register-password").focusin(function(){$("#register-password").attr("type","password")}),$("#register-password").val(""),$(function(){$("#frmRegsiter").submit(function(e){if($("#RegisterErrorMessageForHeader").hide().html(""),$("#PasswordMessage").hide(),$("#passwordFromHeader").hide(),$("#passwordFromHeader").html(""),lr1=Ladda.create(document.querySelector("#btnIndividualRegister")),$("#IndRegisterEmail").trimTheText(),$("#SchemeCaptchaErrorMessageForHeaderRegister").hide(),$("#SchemeCaptchaErrorMessageForHeaderRegister").html(""),""==$("#captchaCodeForHeaderRegister").val())return $("#SchemeCaptchaErrorMessageForHeaderRegister").show(),$("#SchemeCaptchaErrorMessageForHeaderRegister").html(captchaRequired),e.preventDefault(),0;if(""==$("#register-password").val())return $("#PasswordMessage").show(),$("#passwordFromHeader").show(),$("#passwordFromHeader").html(passwordisRequired),e.preventDefault(),0;if($("#register-password").val().length<6)return $("#PasswordMessage").show(),$("#passwordFromHeader").show(),$("#passwordFromHeader").html(passwordLengthError),e.preventDefault(),0;e.preventDefault();var r=$(this);if(r.valid()&&isEmailHasDashKey($("#IndRegisterEmail").val())){lr1.start(),isLoginWithHomePageFlow&&SetSessionforHomePagePurchaseFlow();var a=$("#autoLoginCheckBox")[0].checked;$.ajax({type:"POST",url:registercontrollerurl,data:r.serialize()+"&CurrentPagelangauge="+$("#hdnCurrentPageLangauge").val()+"&IsLoginWithHomePageFlow="+isLoginWithHomePageFlow+"&isAutoLogin="+a+"&CaptchaCode="+$("#captchaCodeForHeaderRegister").val()+"&CaptchaToken="+$("#captchaTokenForHeaderRegister").val(),dataType:"json",traditional:!0,success:function(e){if("Error"==e.OK)$("#RegisterErrorMessageForHeader").show(),$("#RegisterErrorMessageForHeader").html(e.Error),getCaptchaForHeaderRegister(),lr1.stop();else{if("CaptchaNotValid"==e.OK)return $("#SchemeCaptchaErrorMessageForHeaderRegister").show(),$("#SchemeCaptchaErrorMessageForHeaderRegister").html(captchaNotValid),$("#RegisterErrorMessageForHeader").hide(),$("#RegisterErrorMessageForHeader").html(""),$($(".validation-summary-errors")[2]).hide(),$($(".validation-summary-errors")[2]).html(""),lr1.stop(),void getCaptchaForHeaderRegister();"Success"==e.OK&&(isHybridAppUserAgent&&updateFcmTokenFromWeb(),localStorage.removeItem("logintimerCount"),localStorage.removeItem("loginotpRetrycount"),localStorage.removeItem("loginvalidateotpmaxtryexceed"),window.location.href=e.NavigateUrl)}}})}else $("#IndRegisterEmail").valid()&&!isEmailHasDashKey($("#IndRegisterEmail").val())?$("#InvalidImailMessage").show():$("#InvalidImailMessage").hide(),$("#frmRegsiter *").filter(":input[type=text]").not(":hidden").each(function(){""!=$.trim($("#MobileNumber").val())&&$("#MobileNumber").val().startsWith("05")?""!=$.trim($("#IndRegisterEmail").val())?""!=$.trim($("#register-password").val())||$("#register-password").focus():$("#IndRegisterEmail").focus():$("#MobileNumber").focus()})})}),$("#btnIndividualRegister").click(function(){$("#RegisterErrorMessageForHeader").hide(),localStorage.removeItem("btnVerifydisabled"),localStorage.removeItem("smscodeerrormessage")}),jQuery.fn.resetValidation=function(){var e=this.closest("form");return e.validate().resetForm(),e.find("[data-valmsg-summary=true]").removeClass("validation-summary-errors").addClass("validation-summary-valid").find("ul").empty(),e.find("[data-valmsg-replace]").removeClass("field-validation-error").addClass("field-validation-valid").empty(),e},$("#signup-content").on("shown.bs.modal",function(e){$("#MobileNumber").focus()}),$(document).ready(function(){$("#declaration-popup").appendTo("body"),$("#trems-popup").appendTo("body"),$("#correctEmail").hide();var e=$("#IndRegisterEmail").val();""!=e&&$.get(Loginurl,{emailAddress:e,userId:0},function(e){1==e.Valid?(HideLoader(),$("#correctEmail").show()):-1==e.Valid?(HideLoader(),$("#correctEmail").hide()):0==e.Valid&&(HideLoader(),$("#correctEmail").hide())})}),$("#login-popup").on("hidden.bs.modal",function(){$("#InvalidImailMessage").hide(),$("#ExistEmail").hide()}),""!=RegisterError?($("#RegisterErrorMessageForHeader").html("<ul><li>"+RegisterError+"</li></ul>"),$("#RegisterErrorMessageForHeader").show(),$("#login-popup").modal("show"),$("#login-content").hide(),BackdropiconShow(),$("#signup-content").show(1e3)):$("#RegisterErrorMessageForHeader").hide(),$("#IndRegisterEmail").focusin(function(){$("#RegisterErrorMessageForHeader").html("").hide(),$("#correctEmail, #wrongEmail, #ExistEmail").hide(),$(".validation-summary-errors").find("ul").length&&($(".validation-summary-errors ul li:contains("+Emailaddressalreadyexistsmsg+")").remove(),0==$(".validation-summary-errors ul li").length&&$(".validation-summary-errors").hide())}),$("#btnCloseDeclare").click(function(e){$("#declaration-content").closet(".modal").hide()}),$("#btnCloseTermsPolicy").click(function(e){$("#termspopup-content").closet(".modal").hide()}),$("#wrongEmail").hide(),$("#IndRegisterEmail").focusout(function(){$("#RegisterErrorMessageForHeader").html("").hide(),$("#correctEmail, #wrongEmail").hide(),$(this).trimTheText(),$(this).val($(this).val().toLowerCase());var e=$(this).val();if(""!=e){if(!isValidEmailAddress(e)||!isEmailHasDashKey(this.value))return;$(".validation-summary-errors").hide(),$("#IndRegisterEmail").removeClass("input-validation-error"),$.ajax({type:"GET",url:Loginurl,dataType:"JSON",contentType:"application/json",data:{emailAddress:e,userId:0},success:function(e){1==e.Valid?(HideLoader(),$("#RegisterErrorMessageForHeader").html("").hide()):-1==e.Valid?(HideLoader(),RegEmial(Emailaddressalreadyexistsmsg),$("#correctEmail").hide()):0==e.Valid&&(HideLoader(),WriteIndividualErrorMessage(Emailaddressalreadyexistsmsg),$("#correctEmail").hide())},error:function(){$("#IndRegisterEmail").val(""),HideLoader()}})}}),$("#MobileNumber").on("focusout",function(e){if(parent=$(e.relatedTarget).parent(),parent.hasClass("login-account-link"))return $("#login-content").show(),$("#signup-content").hide(),$("#without-login").hide(),$("#forgot-popup").hide(),void BackdropiconShow();$("#RegisterErrorMessageForHeader").html(""),$("#RegisterErrorMessageForHeader").hide();$("#MobileNumber").val();""!=$.trim($("#MobileNumber").val())&&$("#MobileNumber").val().startsWith("05")});
//# sourceMappingURL=_register_new.min.js.map
